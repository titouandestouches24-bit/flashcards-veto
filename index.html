<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V√©to-Flash - T√©l√©chargements Anki</title>
    <style>
        /* --- STYLE G√âN√âRAL --- */
        :root {
            --primary: #2c7a7b; /* Vert v√©t√©rinaire */
            --primary-dark: #234e52;
            --bg: #f7fafc;
            --text: #2d3748;
            --white: #ffffff;
            --category-bg: #e6fffa;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            background-color: var(--bg);
            color: var(--text);
            padding-bottom: 50px;
        }

        /* --- NAVIGATION --- */
        nav {
            background-color: var(--primary);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .logo { font-weight: bold; font-size: 1.5rem; cursor: pointer; }

        select {
            padding: 0.5rem;
            border-radius: 5px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            background: var(--white);
            color: var(--text);
        }

        /* --- CONTENEUR --- */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* --- PAGES --- */
        .page { display: none; }
        .active { display: block; animation: slideIn 0.3s ease-out; }

        @keyframes slideIn { from { transform: translateY(10px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        /* --- GRILLE DES UE (VERSION ROBUSTE) --- */
        .ue-grid {
            display: grid;
            /* Cartes un peu plus larges (240px) pour √©viter que le texte ne soit trop serr√© */
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            /* Un grand √©cart (40px) pour que l'effet de survol ne touche pas les voisins */
            gap: 40px; 
            padding: 20px 10px; /* Un peu de marge autour de la grille */
            align-items: stretch; /* Force toutes les cartes d'une ligne √† avoir la m√™me hauteur */
        }

        .ue-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: 2px solid transparent;
            
            /* FLEXBOX : C'est le secret pour l'alignement */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Pousse l'ic√¥ne en haut et le texte en bas */
            height: 100%; /* Remplit toute la hauteur de la case de la grille */
            
            /* S√©curit√© : Hauteur minimale pour que m√™me les cartes vides soient jolies */
            min-height: 220px; 
            position: relative;
            z-index: 1;
        }

        .ue-card:hover {
            transform: translateY(-8px); /* L'effet "pop" vers le haut */
            border-color: var(--primary);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15); /* Une ombre plus douce mais plus grande */
            z-index: 10; /* Fait passer la carte DEVANT les autres si jamais elles se touchent */
        }

        .ue-icon { 
            font-size: 3.5rem; 
            margin-bottom: 0.5rem; 
            display: block;
            /* Petite astuce pour centrer l'ic√¥ne verticalement dans la partie haute */
            flex-grow: 1; 
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ue-code { 
            font-weight: bold; 
            color: var(--primary); 
            font-size: 1.1rem; 
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ue-name { 
            font-size: 0.95rem; 
            line-height: 1.4; 
            color: #4a5568;
            /* Fixe une hauteur pour le texte (3 lignes max) pour √©viter les sauts */
            min-height: 4.2em; 
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }

        /* --- LISTE DE T√âL√âCHARGEMENT --- */
        .download-list {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            margin-top: 1rem;
        }

        /* NOUVEAU : Style pour les titres de cat√©gories (BES, Physique...) */
        .category-title {
            background-color: var(--category-bg);
            color: var(--primary-dark);
            padding: 0.8rem 1rem;
            margin: 1.5rem -2rem 0.5rem -2rem; /* Pour toucher les bords */
            font-weight: bold;
            font-size: 1.1rem;
            border-left: 5px solid var(--primary);
        }
        /* Enlever la marge pour le tout premier titre */
        .category-title:first-child { margin-top: -1rem; }

        .file-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e2e8f0;
            transition: background 0.2s;
        }

        .file-item:last-child { border-bottom: none; }
        .file-item:hover { background-color: #f7fafc; }

        .file-info strong { display: block; font-size: 1.1rem; }
        .file-info span { font-size: 0.9rem; color: #718096; }

        .download-btn {
            background-color: var(--primary);
            color: white;
            text-decoration: none;
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            font-weight: bold;
            transition: background 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .download-btn:hover { background-color: var(--primary-dark); }

        .back-btn {
            background: #cbd5e0;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--text);
        }
        
        .no-files { text-align: center; color: #a0aec0; padding: 2rem; font-style: italic; }

    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="resetApp()">üêæ V√©to-Anki</div>
        <select id="year-select" onchange="selectYear(this.value)">
            <option value="" disabled selected>Choisir une ann√©e...</option>
            <option value="vet1">Vet-1 (A1)</option>
            <option value="vet2">Vet-2 (A2)</option>
            <option value="vet3">Vet-3 (A3)</option>
            <option value="vet4">Vet-4 (A4)</option>
            <option value="vet5">Vet-5 (A5)</option>
            <option value="vet6">Vet-6 (A6)</option>
        </select>
    </nav>

    <div class="container">
        
        <div id="home-view" class="page active" style="text-align: center; padding-top: 3rem;">
            <h1>Banque de Flashcards V√©to</h1>
            <p class="subtitle">S√©lectionne ton ann√©e en haut √† droite pour acc√©der aux decks Anki.</p>
            <div style="font-size: 6rem; margin: 2rem;">üìö</div>
        </div>

        <div id="ue-view" class="page">
            <h2 id="year-title">Ann√©e</h2>
            <p>Choisis une UE pour voir les chapitres disponibles.</p>
            <div class="ue-grid" id="ue-container">
                </div>
        </div>

        <div id="files-view" class="page">
            <button class="back-btn" onclick="showUEView()">‚Üê Retour aux UE</button>
            <h2 id="ue-title-display">Nom de l'UE</h2>
            
            <div class="download-list" id="files-list">
                </div>
        </div>

    </div>

    <script>
        // --- 1. CONFIGURATION DES UEs ---
        const structure = {
            "vet1": [
                { id: "UE011", name: "Bases chimiques et structurales des biomol√©cules", icon: "üß™" },
                { id: "UE012", name: "Biologie et thermodynamique cellulaire", icon: "üß¨" },
                { id: "UE013", name: "Organisation des appareils et √©tudes des fluides bio.", icon: "ü©∏" },
                { id: "UE014", name: "Outils math√©matiques et m√©thodologiques", icon: "üìê" },
                { id: "UE021", name: "Ethologie", icon: "üêæ" }, 
                { id: "UE022", name: "UE 022 (Nom √† d√©finir)", icon: "üìÅ" },
                { id: "UE023", name: "UE 023 (Nom √† d√©finir)", icon: "üìÅ" },
                { id: "UE024", name: "UE 024 (Nom √† d√©finir)", icon: "üìÅ" },
            ],
            "vet2": [
                { id: "UE031", name: "Animal, √©levage et soci√©t√©", icon: "üöú" }, 
                { id: "UE032", name: "Microbiologie, parasitologie g√©n√©rales et bios√©curit√©", icon: "üî¨" },      
                { id: "UE033", name: "Communication interpersonnelle et l√©gislation professionnelle", icon: "‚öñÔ∏è" },        
                { id: "UE034", name: "Bases de l'anatomie, anatomie fondamentale", icon: "ü¶¥" },      
                { id: "UE035", name: "Anglais", icon: "üá¨üáß" }, // <--- Virgule ajout√©e
                { id: "UE036", name: "Physiologie fonctionnelle cellulaire et mol√©culaire", icon: "‚ù§Ô∏è" },       
                { id: "UE037", name: "Abord, contention et ethologie", icon: "üêé" },         
                { id: "UE038", name: "Histologie animale", icon: "üß¨" }           
            ]
        };

        // --- 2. CONFIGURATION DES FICHIERS (AVEC CAT√âGORIES) ---
        // REGARDE BIEN L'EXEMPLE DE L'UE 011 CI-DESSOUS
        const ankiFiles = {
            
            // EXEMPLE AVEC CAT√âGORIES (Ce que tu as demand√©)
            "UE011": {
                "Physique-Chimie": [
                    { name: "Chapitre 1 - Atomistique", desc: "Structure de l'atome", file: "fichiers/ue011_pc_chap1.apkg" },
                    { name: "Chapitre 2 - Liaisons", desc: "Covalentes et ioniques", file: "fichiers/ue011_pc_chap2.apkg" }
                ],
                "BES": [
                    { name: "Cours 1 - Introduction BES", desc: "Enjeux soci√©taux", file: "fichiers/ue011_bes_intro.apkg" },
                    { name: "Cours 2 - √âthique", desc: "D√©ontologie de base", file: "fichiers/ue011_bes_ethique.apkg" }
                ]
            },

            // EXEMPLE SANS CAT√âGORIE (Liste simple, comme avant)
            "UE012": [
                { name: "Ost√©ologie membre thoracique", desc: "Complet", file: "fichiers/ue012_osteo.apkg" }
            ],
            "UE031": [
                { name: "UE031", desc: "Complet", file: "fichiers/UE031.apkg" }
            ],
            "UE032": [
                { name: "UE032", desc: "Complet", file: "fichiers/UE032.apkg" }
            ],
            "UE034": {
                "UE034 guintard": [
                    { name: "UE034 guintard", desc: "Complet", file: "fichiers/UE034 guintard.apkg" },
                ],
                "UE034 Betti et sch√©mas": [
                    { name: "UE034 Betti et sch√©mas", desc: "Complet", file: "fichiers/UE034 Betti et sch√©mas.apkg" },
                ],
                 "UE034 borvon": [
                    { name: "UE034 borvon", desc: "Complet", file: "fichiers/UE034 borvon.apkg" },
                ],
            },
           "UE036": [
                { name: "UE036", desc: "Complet", file: "fichiers/UE036.apkg" }
            ],
            "UE037": [
                { name: "UE037", desc: "Complet", file: "fichiers/UE037.apkg" }
            ],
             "UE038": {
                "UE038.1": [
                    { name: "UE038.1", desc: "Complet", file: "fichiers/UE038.1.apkg" },
                ],
                "UE038.2": [
                    { name: "UE038.2", desc: "Complet", file: "fichiers/UE038.2.apkg" },
                ],
            },
            "UE039": [
                { name: "UE039", desc: "Complet", file: "fichiers/UE039.apkg" }
            ],
 // Tu peux ajouter UE022, UE023 ici...
        };

        // --- LOGIQUE DU SITE ---
        let currentYear = "";

        function resetApp() {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('home-view').classList.add('active');
            document.getElementById('year-select').value = "";
        }

        function selectYear(year) {
            currentYear = year;
            const container = document.getElementById('ue-container');
            document.getElementById('year-title').innerText = "Unit√©s d'Enseignement - " + year.toUpperCase();
            container.innerHTML = ""; 

            if(structure[year]) {
                structure[year].forEach(ue => {
                    const div = document.createElement('div');
                    div.className = 'ue-card';
                    div.onclick = () => showFiles(ue.id, ue.name);
                    div.innerHTML = `
                        <span class="ue-icon">${ue.icon}</span>
                        <div class="ue-code">${ue.id}</div>
                        <div class="ue-name">${ue.name}</div>
                    `;
                    container.appendChild(div);
                });
            } else {
                container.innerHTML = "<p>Aucune UE configur√©e pour cette ann√©e.</p>";
            }
            switchPage('ue-view');
        }

        function showFiles(ueId, ueName) {
            const listContainer = document.getElementById('files-list');
            document.getElementById('ue-title-display').innerText = ueId + " - " + ueName;
            listContainer.innerHTML = ""; 

            const content = ankiFiles[ueId];

            if (!content) {
                listContainer.innerHTML = "<div class='no-files'>Pas de fichiers disponibles.</div>";
            } 
            // CAS 1 : C'est une liste simple (Tableau)
            else if (Array.isArray(content)) {
                renderFileList(content, listContainer);
            } 
            // CAS 2 : C'est des cat√©gories (Objet)
            else {
                for (const [categoryName, files] of Object.entries(content)) {
                    // Cr√©er le titre de la cat√©gorie
                    const title = document.createElement('div');
                    title.className = 'category-title';
                    title.innerText = categoryName;
                    listContainer.appendChild(title);
                    
                    // Cr√©er la liste en dessous
                    renderFileList(files, listContainer);
                }
            }
            switchPage('files-view');
        }

        function renderFileList(files, container) {
            if(files.length === 0) return;
            files.forEach(item => {
                const row = document.createElement('div');
                row.className = 'file-item';
                row.innerHTML = `
                    <div class="file-info">
                        <strong>${item.name}</strong>
                        <span>${item.desc}</span>
                    </div>
                    <a href="${item.file}" class="download-btn" download>
                        ‚¨á T√©l√©charger
                    </a>
                `;
                container.appendChild(row);
            });
        }

        function showUEView() { switchPage('ue-view'); }

        function switchPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }
    </script>
</body>
</html>




